"use strict";function render(e){var t=$(".table");for(var r in e){var a=$("<tr>",{class:"table__row"}),i={flightNum:e[r].thread.number,direction:e[r].departure,route:e[r].thread.title,company:e[r].thread.carrier.title,time:e[r].departure,delay:e[r].is_fuzzy};for(var l in t.append(a),i){var d=$("<td>",{class:"table__col"});switch(null!==e[r].departure?i.time=e[r].departure.split("T")[0]:null===i.direction?i.direction=e[r].arrival:null===i.time&&(i.time=e[r].arrival.split("T")[0]),i[l]){case!0:d.addClass("table__col_color").text("Задержан");break;case!1:d.text("Ожидается в ".concat(i.direction));break;default:d.text(i[l])}i.direction=i.direction.split("T").pop().replace(/:\d+\+\d+:\d+/g,""),a.append(d)}}}function renderDelay(e){var t=$(".table");for(var r in e){var a=$("<tr>",{class:"table__row"}),i={flightNum:e[r].thread.number,direction:e[r].departure,route:e[r].thread.title,company:e[r].thread.carrier.title,time:e[r].departure,delay:e[r].is_fuzzy};if(t.append(a),i.delay)for(var l in i){var d=$("<td>",{class:"table__col"});switch(null!==e[r].departure?i.time=e[r].departure.split("T")[0]:null===i.direction?i.direction=e[r].arrival:null===i.time&&(i.time=e[r].arrival.split("T")[0]),i[l]){case!0:d.addClass("table__col_color").text("Задержан");break;case!1:d.text("Ожидается в ".concat(i.direction));break;default:d.text(i[l])}i.direction=i.direction.split("T").pop().replace(/:\d+\+\d+:\d+/g,""),a.append(d)}}}
"use strict";function filterTable(t){var e=t.find(".table__col");t.find(".table__row").each(function(){var i=!0;$(this).find("td").each(function(t){e.eq(t).find("input").val()&&-1===$(this).html().toLowerCase().indexOf(e.eq(t).find("input").val().toLowerCase())&&(i=i&&!1)}),i?$(this).removeClass("table__row_display"):$(this).addClass("table__row_display")})}$(".table__input").on("input",function(){filterTable($(this).parents("table"))});
"use strict";var departure=$(".nav__btn_departure"),arrival=$(".nav__btn_arrival"),delay=$(".nav__btn_delayed"),clicked="nav__btn_color";function clearTable(){return $(".table__row").detach()}departure.on("click",function(){departure.addClass(clicked),arrival.removeClass(clicked),delay.removeClass(clicked),clearTable(),getJSON(request.event.dep)}),arrival.on("click",function(){arrival.addClass(clicked),departure.removeClass(clicked),delay.removeClass(clicked),clearTable(),getJSON(request.event.arr)}),delay.on("click",function(){delay.addClass(clicked),departure.removeClass(clicked),arrival.removeClass(clicked),clearTable(),getJSONDelay(request.event.dep),getJSONDelay(request.event.arr)}),getJSON(request.event.dep);